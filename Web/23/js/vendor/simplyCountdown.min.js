/*!
 * Project : simply-countdown
 * File : simplyCountdown
 * Date : 27/06/2015
 * License : MIT
 * Version : 1.3.2
 * Author : Vincent Loy <vincent.loy1@gmail.com>
 * Contributors : 
 *  - Justin Beasley <JustinB@harvest.org>
 *  - Nathan Smith <NathanS@harvest.org>
 */
!function(e){"use strict";var t,n,s,o;t=function(e){var n,s,o;for(e=e||{},n=1;n<arguments.length;n+=1)if(s=arguments[n])for(o in s)s.hasOwnProperty(o)&&("object"==typeof s[o]?t(e[o],s[o]):e[o]=s[o]);return e},s=function(e,t,n){var s,o,r,a;return o=document.createElement("div"),r=document.createElement("span"),a=document.createElement("span"),s=document.createElement("div"),s.appendChild(r),s.appendChild(a),o.appendChild(s),o.classList.add(t.sectionClass),o.classList.add(n),r.classList.add(t.amountClass),a.classList.add(t.wordClass),e.appendChild(o),{full:o,amount:r,word:a}},n=function(e,t){var n;return e.inline?(n=document.createElement("span"),n.classList.add(e.inlineClass),n):{days:s(t,e,"simply-days-section"),hours:s(t,e,"simply-hours-section"),minutes:s(t,e,"simply-minutes-section"),seconds:s(t,e,"simply-seconds-section")}},o=function(e,s){var o,r,a,d,i,l,u,c,m,w,p=t({year:2015,month:6,day:28,hours:0,minutes:0,seconds:0,words:{days:"day",hours:"hour",minutes:"minute",seconds:"second",pluralLetter:"s"},plural:!0,inline:!1,enableUtc:!0,onEnd:function(){},refresh:1e3,inlineClass:"simply-countdown-inline",sectionClass:"simply-section",amountClass:"simply-amount",wordClass:"simply-word",zeroPad:!1},s),y=document.querySelectorAll(e);a=new Date(p.year,p.month-1,p.day,p.hours,p.minutes,p.seconds),r=p.enableUtc?new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds()):a,Array.prototype.forEach.call(y,function(e){var t,s=n(p,e);t=function(){var t,n,a,y;d=new Date,p.enableUtc?(i=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()),l=(r-i.getTime())/1e3):l=(r-d.getTime())/1e3,l>0?(u=parseInt(l/86400,10),l%=86400,c=parseInt(l/3600,10),l%=3600,m=parseInt(l/60,10),w=parseInt(l%60,10)):(u=0,c=0,m=0,w=0,window.clearInterval(o),p.onEnd()),p.plural?(t=u>1?p.words.days+p.words.pluralLetter:p.words.days,n=c>1?p.words.hours+p.words.pluralLetter:p.words.hours,a=m>1?p.words.minutes+p.words.pluralLetter:p.words.minutes,y=w>1?p.words.seconds+p.words.pluralLetter:p.words.seconds):(t=p.words.days,n=p.words.hours,a=p.words.minutes,y=p.words.seconds),p.inline?e.innerHTML=u+" "+t+", "+c+" "+n+", "+m+" "+a+", "+w+" "+y+".":(s.days.amount.textContent=(p.zeroPad&&u.toString().length<2?"0":"")+u,s.days.word.textContent=t,s.hours.amount.textContent=(p.zeroPad&&c.toString().length<2?"0":"")+c,s.hours.word.textContent=n,s.minutes.amount.textContent=(p.zeroPad&&m.toString().length<2?"0":"")+m,s.minutes.word.textContent=a,s.seconds.amount.textContent=(p.zeroPad&&w.toString().length<2?"0":"")+w,s.seconds.word.textContent=y)},t(),o=window.setInterval(t,p.refresh)})},e.simplyCountdown=o}(window),window.jQuery&&!function(e,t){"use strict";function n(e,n){t(e,n)}e.fn.simplyCountdown=function(e){return n(this.selector,e)}}(jQuery,simplyCountdown);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpbXBseUNvdW50ZG93bi5qcyJdLCJuYW1lcyI6WyJleHBvcnRzIiwiZXh0ZW5kIiwiY3JlYXRlRWxlbWVudHMiLCJjcmVhdGVDb3VudGRvd25FbHQiLCJzaW1wbHlDb3VudGRvd24iLCJvdXQiLCJpIiwib2JqIiwia2V5IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiaGFzT3duUHJvcGVydHkiLCJjb3VudGRvd24iLCJwYXJhbWV0ZXJzIiwidHlwZUNsYXNzIiwiaW5uZXJTZWN0aW9uVGFnIiwic2VjdGlvblRhZyIsImFtb3VudFRhZyIsIndvcmRUYWciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNsYXNzTGlzdCIsImFkZCIsInNlY3Rpb25DbGFzcyIsImFtb3VudENsYXNzIiwid29yZENsYXNzIiwiZnVsbCIsImFtb3VudCIsIndvcmQiLCJzcGFuVGFnIiwiaW5saW5lIiwiaW5saW5lQ2xhc3MiLCJkYXlzIiwiaG91cnMiLCJtaW51dGVzIiwic2Vjb25kcyIsImVsdCIsImFyZ3MiLCJpbnRlcnZhbCIsInRhcmdldERhdGUiLCJ0YXJnZXRUbXBEYXRlIiwibm93Iiwibm93VXRjIiwic2Vjb25kc0xlZnQiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJ3b3JkcyIsInBsdXJhbExldHRlciIsInBsdXJhbCIsImVuYWJsZVV0YyIsIm9uRW5kIiwicmVmcmVzaCIsInplcm9QYWQiLCJjZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJEYXRlIiwiZ2V0VVRDRnVsbFllYXIiLCJnZXRVVENNb250aCIsImdldFVUQ0RhdGUiLCJnZXRVVENIb3VycyIsImdldFVUQ01pbnV0ZXMiLCJnZXRVVENTZWNvbmRzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJmb3JFYWNoIiwiY2FsbCIsImZ1bGxDb3VudERvd24iLCJkYXlXb3JkIiwiaG91cldvcmQiLCJtaW51dGVXb3JkIiwic2Vjb25kV29yZCIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldFRpbWUiLCJwYXJzZUludCIsIndpbmRvdyIsImNsZWFySW50ZXJ2YWwiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsInRvU3RyaW5nIiwic2V0SW50ZXJ2YWwiLCJqUXVlcnkiLCIkIiwic2ltcGx5Q291bnRkb3duaWZ5IiwiZWwiLCJvcHRpb25zIiwiZm4iLCJ0aGlzIiwic2VsZWN0b3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0NBWUMsU0FBVUEsR0FDUCxZQUVBLElBQ0lDLEdBQ0FDLEVBQ0FDLEVBQ0FDLENBT0pILEdBQVMsU0FBVUksR0FDZixHQUFJQyxHQUNBQyxFQUNBQyxDQUdKLEtBRkFILEVBQU1BLE1BRURDLEVBQUksRUFBR0EsRUFBSUcsVUFBVUMsT0FBUUosR0FBSyxFQUduQyxHQUZBQyxFQUFNRSxVQUFVSCxHQUdaLElBQUtFLElBQU9ELEdBQ0pBLEVBQUlJLGVBQWVILEtBQ0ssZ0JBQWJELEdBQUlDLEdBQ1hQLEVBQU9JLEVBQUlHLEdBQU1ELEVBQUlDLElBRXJCSCxFQUFJRyxHQUFPRCxFQUFJQyxHQU9uQyxPQUFPSCxJQVVYRixFQUFxQixTQUFVUyxFQUFXQyxFQUFZQyxHQUNsRCxHQUFJQyxHQUNBQyxFQUNBQyxFQUNBQyxDQWtCSixPQWhCQUYsR0FBYUcsU0FBU0MsY0FBYyxPQUNwQ0gsRUFBWUUsU0FBU0MsY0FBYyxRQUNuQ0YsRUFBVUMsU0FBU0MsY0FBYyxRQUNqQ0wsRUFBa0JJLFNBQVNDLGNBQWMsT0FFekNMLEVBQWdCTSxZQUFZSixHQUM1QkYsRUFBZ0JNLFlBQVlILEdBQzVCRixFQUFXSyxZQUFZTixHQUV2QkMsRUFBV00sVUFBVUMsSUFBSVYsRUFBV1csY0FDcENSLEVBQVdNLFVBQVVDLElBQUlULEdBQ3pCRyxFQUFVSyxVQUFVQyxJQUFJVixFQUFXWSxhQUNuQ1AsRUFBUUksVUFBVUMsSUFBSVYsRUFBV2EsV0FFakNkLEVBQVVTLFlBQVlMLElBR2xCVyxLQUFNWCxFQUNOWSxPQUFR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VXVGLEdBQzdCLE1BQU9GLEdBQW1CSSxLQUFLQyxTQUFVSCxLQUUvQ0osT0FBUW5GIiwiZmlsZSI6InNpbXBseUNvdW50ZG93bi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIFByb2plY3QgOiBzaW1wbHktY291bnRkb3duXG4gKiBGaWxlIDogc2ltcGx5Q291bnRkb3duXG4gKiBEYXRlIDogMjcvMDYvMjAxNVxuICogTGljZW5zZSA6IE1JVFxuICogVmVyc2lvbiA6IDEuMy4yXG4gKiBBdXRob3IgOiBWaW5jZW50IExveSA8dmluY2VudC5sb3kxQGdtYWlsLmNvbT5cbiAqIENvbnRyaWJ1dG9ycyA6IFxuICogIC0gSnVzdGluIEJlYXNsZXkgPEp1c3RpbkJAaGFydmVzdC5vcmc+XG4gKiAgLSBOYXRoYW4gU21pdGggPE5hdGhhblNAaGFydmVzdC5vcmc+XG4gKi9cbi8qZ2xvYmFsIHdpbmRvdywgZG9jdW1lbnQqL1xuKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIC8vIGZ1bmN0aW9uc1xuICAgICAgICBleHRlbmQsXG4gICAgICAgIGNyZWF0ZUVsZW1lbnRzLFxuICAgICAgICBjcmVhdGVDb3VudGRvd25FbHQsXG4gICAgICAgIHNpbXBseUNvdW50ZG93bjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRoYXQgbWVyZ2UgdXNlciBwYXJhbWV0ZXJzIHdpdGggZGVmYXVsdHMgb25lLlxuICAgICAqIEBwYXJhbSBvdXRcbiAgICAgKiBAcmV0dXJucyB7Knx7fX1cbiAgICAgKi9cbiAgICBleHRlbmQgPSBmdW5jdGlvbiAob3V0KSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgb2JqLFxuICAgICAgICAgICAga2V5O1xuICAgICAgICBvdXQgPSBvdXQgfHwge307XG5cbiAgICAgICAgZm9yIChpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgb2JqID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbmQob3V0W2tleV0sIG9ialtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0W2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRoYXQgY3JlYXRlIGEgY291bnRkb3duIHNlY3Rpb25cbiAgICAgKiBAcGFyYW0gY291bnRkb3duXG4gICAgICogQHBhcmFtIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gdHlwZUNsYXNzXG4gICAgICogQHJldHVybnMge3tmdWxsOiAoKnxFbGVtZW50KSwgYW1vdW50OiAoKnxFbGVtZW50KSwgd29yZDogKCp8RWxlbWVudCl9fVxuICAgICAqL1xuICAgIGNyZWF0ZUNvdW50ZG93bkVsdCA9IGZ1bmN0aW9uIChjb3VudGRvd24sIHBhcmFtZXRlcnMsIHR5cGVDbGFzcykge1xuICAgICAgICB2YXIgaW5uZXJTZWN0aW9uVGFnLFxuICAgICAgICAgICAgc2VjdGlvblRhZyxcbiAgICAgICAgICAgIGFtb3VudFRhZyxcbiAgICAgICAgICAgIHdvcmRUYWc7XG5cbiAgICAgICAgc2VjdGlvblRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBhbW91bnRUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHdvcmRUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGlubmVyU2VjdGlvblRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGlubmVyU2VjdGlvblRhZy5hcHBlbmRDaGlsZChhbW91bnRUYWcpO1xuICAgICAgICBpbm5lclNlY3Rpb25UYWcuYXBwZW5kQ2hpbGQod29yZFRhZyk7XG4gICAgICAgIHNlY3Rpb25UYWcuYXBwZW5kQ2hpbGQoaW5uZXJTZWN0aW9uVGFnKTtcblxuICAgICAgICBzZWN0aW9uVGFnLmNsYXNzTGlzdC5hZGQocGFyYW1ldGVycy5zZWN0aW9uQ2xhc3MpO1xuICAgICAgICBzZWN0aW9uVGFnLmNsYXNzTGlzdC5hZGQodHlwZUNsYXNzKTtcbiAgICAgICAgYW1vdW50VGFnLmNsYXNzTGlzdC5hZGQocGFyYW1ldGVycy5hbW91bnRDbGFzcyk7XG4gICAgICAgIHdvcmRUYWcuY2xhc3NMaXN0LmFkZChwYXJhbWV0ZXJzLndvcmRDbGFzcyk7XG5cbiAgICAgICAgY291bnRkb3duLmFwcGVuZENoaWxkKHNlY3Rpb25UYWcpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmdWxsOiBzZWN0aW9uVGFnLFxuICAgICAgICAgICAgYW1vdW50OiBhbW91bnRUYWcsXG4gICAgICAgICAgICB3b3JkOiB3b3JkVGFnXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRoYXQgY3JlYXRlIGZ1bGwgY291bnRkb3duIERPTSBlbGVtZW50cyBjYWxsaW5nIGNyZWF0ZUNvdW50ZG93bkVsdFxuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIGNvdW50ZG93blxuICAgICAqIEByZXR1cm5zIHt7ZGF5czogKCp8RWxlbWVudCksIGhvdXJzOiAoKnxFbGVtZW50KSwgbWludXRlczogKCp8RWxlbWVudCksIHNlY29uZHM6ICgqfEVsZW1lbnQpfX1cbiAgICAgKi9cbiAgICBjcmVhdGVFbGVtZW50cyA9IGZ1bmN0aW9uIChwYXJhbWV0ZXJzLCBjb3VudGRvd24pIHtcbiAgICAgICAgdmFyIHNwYW5UYWc7XG5cbiAgICAgICAgaWYgKCFwYXJhbWV0ZXJzLmlubGluZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkYXlzOiBjcmVhdGVDb3VudGRvd25FbHQoY291bnRkb3duLCBwYXJhbWV0ZXJzLCAnc2ltcGx5LWRheXMtc2VjdGlvbicpLFxuICAgICAgICAgICAgICAgIGhvdXJzOiBjcmVhdGVDb3VudGRvd25FbHQoY291bnRkb3duLCBwYXJhbWV0ZXJzLCAnc2ltcGx5LWhvdXJzLXNlY3Rpb24nKSxcbiAgICAgICAgICAgICAgICBtaW51dGVzOiBjcmVhdGVDb3VudGRvd25FbHQoY291bnRkb3duLCBwYXJhbWV0ZXJzLCAnc2ltcGx5LW1pbnV0ZXMtc2VjdGlvbicpLFxuICAgICAgICAgICAgICAgIHNlY29uZHM6IGNyZWF0ZUNvdW50ZG93bkVsdChjb3VudGRvd24sIHBhcmFtZXRlcnMsICdzaW1wbHktc2Vjb25kcy1zZWN0aW9uJylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBzcGFuVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuVGFnLmNsYXNzTGlzdC5hZGQocGFyYW1ldGVycy5pbmxpbmVDbGFzcyk7XG4gICAgICAgIHJldHVybiBzcGFuVGFnO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBzaW1wbHlDb3VudGRvd24sIGNyZWF0ZSBhbmQgZGlzcGxheSB0aGUgY291bmR0b3duLlxuICAgICAqIEBwYXJhbSBlbHRcbiAgICAgKiBAcGFyYW0gYXJncyAocGFyYW1ldGVycylcbiAgICAgKi9cbiAgICBzaW1wbHlDb3VudGRvd24gPSBmdW5jdGlvbiAoZWx0LCBhcmdzKSB7XG4gICAgICAgIHZhciBwYXJhbWV0ZXJzID0gZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICB5ZWFyOiAyMDE1LFxuICAgICAgICAgICAgICAgIG1vbnRoOiA2LFxuICAgICAgICAgICAgICAgIGRheTogMjgsXG4gICAgICAgICAgICAgICAgaG91cnM6IDAsXG4gICAgICAgICAgICAgICAgbWludXRlczogMCxcbiAgICAgICAgICAgICAgICBzZWNvbmRzOiAwLFxuICAgICAgICAgICAgICAgIHdvcmRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGRheXM6ICdkYXknLFxuICAgICAgICAgICAgICAgICAgICBob3VyczogJ2hvdXInLFxuICAgICAgICAgICAgICAgICAgICBtaW51dGVzOiAnbWludXRlJyxcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kczogJ3NlY29uZCcsXG4gICAgICAgICAgICAgICAgICAgIHBsdXJhbExldHRlcjogJ3MnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwbHVyYWw6IHRydWUsXG4gICAgICAgICAgICAgICAgaW5saW5lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlbmFibGVVdGM6IHRydWUsXG4gICAgICAgICAgICAgICAgb25FbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVmcmVzaDogMTAwMCxcbiAgICAgICAgICAgICAgICBpbmxpbmVDbGFzczogJ3NpbXBseS1jb3VudGRvd24taW5saW5lJyxcbiAgICAgICAgICAgICAgICBzZWN0aW9uQ2xhc3M6ICdzaW1wbHktc2VjdGlvbicsXG4gICAgICAgICAgICAgICAgYW1vdW50Q2xhc3M6ICdzaW1wbHktYW1vdW50JyxcbiAgICAgICAgICAgICAgICB3b3JkQ2xhc3M6ICdzaW1wbHktd29yZCcsXG4gICAgICAgICAgICAgICAgemVyb1BhZDogZmFsc2VcbiAgICAgICAgICAgIH0sIGFyZ3MpLFxuICAgICAgICAgICAgaW50ZXJ2YWwsXG4gICAgICAgICAgICB0YXJnZXREYXRlLFxuICAgICAgICAgICAgdGFyZ2V0VG1wRGF0ZSxcbiAgICAgICAgICAgIG5vdyxcbiAgICAgICAgICAgIG5vd1V0YyxcbiAgICAgICAgICAgIHNlY29uZHNMZWZ0LFxuICAgICAgICAgICAgZGF5cyxcbiAgICAgICAgICAgIGhvdXJzLFxuICAgICAgICAgICAgbWludXRlcyxcbiAgICAgICAgICAgIHNlY29uZHMsXG4gICAgICAgICAgICBjZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWx0KTtcblxuICAgICAgICB0YXJnZXRUbXBEYXRlID0gbmV3IERhdGUoXG4gICAgICAgICAgICBwYXJhbWV0ZXJzLnllYXIsXG4gICAgICAgICAgICBwYXJhbWV0ZXJzLm1vbnRoIC0gMSxcbiAgICAgICAgICAgIHBhcmFtZXRlcnMuZGF5LFxuICAgICAgICAgICAgcGFyYW1ldGVycy5ob3VycyxcbiAgICAgICAgICAgIHBhcmFtZXRlcnMubWludXRlcyxcbiAgICAgICAgICAgIHBhcmFtZXRlcnMuc2Vjb25kc1xuICAgICAgICApO1xuXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzLmVuYWJsZVV0Yykge1xuICAgICAgICAgICAgdGFyZ2V0RGF0ZSA9IG5ldyBEYXRlKFxuICAgICAgICAgICAgICAgIHRhcmdldFRtcERhdGUuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgICAgICAgICAgICB0YXJnZXRUbXBEYXRlLmdldFVUQ01vbnRoKCksXG4gICAgICAgICAgICAgICAgdGFyZ2V0VG1wRGF0ZS5nZXRVVENEYXRlKCksXG4gICAgICAgICAgICAgICAgdGFyZ2V0VG1wRGF0ZS5nZXRVVENIb3VycygpLFxuICAgICAgICAgICAgICAgIHRhcmdldFRtcERhdGUuZ2V0VVRDTWludXRlcygpLFxuICAgICAgICAgICAgICAgIHRhcmdldFRtcERhdGUuZ2V0VVRDU2Vjb25kcygpXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0RGF0ZSA9IHRhcmdldFRtcERhdGU7XG4gICAgICAgIH1cblxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGNkLCBmdW5jdGlvbiAoY291bnRkb3duKSB7XG4gICAgICAgICAgICB2YXIgZnVsbENvdW50RG93biA9IGNyZWF0ZUVsZW1lbnRzKHBhcmFtZXRlcnMsIGNvdW50ZG93biksXG4gICAgICAgICAgICAgICAgcmVmcmVzaDtcblxuICAgICAgICAgICAgcmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF5V29yZCxcbiAgICAgICAgICAgICAgICAgICAgaG91cldvcmQsXG4gICAgICAgICAgICAgICAgICAgIG1pbnV0ZVdvcmQsXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZFdvcmQ7XG5cbiAgICAgICAgICAgICAgICBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzLmVuYWJsZVV0Yykge1xuICAgICAgICAgICAgICAgICAgICBub3dVdGMgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIG5vdy5nZXREYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBub3cuZ2V0SG91cnMoKSwgbm93LmdldE1pbnV0ZXMoKSwgbm93LmdldFNlY29uZHMoKSk7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZHNMZWZ0ID0gKHRhcmdldERhdGUgLSBub3dVdGMuZ2V0VGltZSgpKSAvIDEwMDA7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmRzTGVmdCA9ICh0YXJnZXREYXRlIC0gbm93LmdldFRpbWUoKSkgLyAxMDAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzZWNvbmRzTGVmdCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5cyA9IHBhcnNlSW50KHNlY29uZHNMZWZ0IC8gODY0MDAsIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kc0xlZnQgPSBzZWNvbmRzTGVmdCAlIDg2NDAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGhvdXJzID0gcGFyc2VJbnQoc2Vjb25kc0xlZnQgLyAzNjAwLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZHNMZWZ0ID0gc2Vjb25kc0xlZnQgJSAzNjAwO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBwYXJzZUludChzZWNvbmRzTGVmdCAvIDYwLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSBwYXJzZUludChzZWNvbmRzTGVmdCAlIDYwLCAxMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5cyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGhvdXJzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbWludXRlcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMub25FbmQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycy5wbHVyYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5V29yZCA9IGRheXMgPiAxXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcmFtZXRlcnMud29yZHMuZGF5cyArIHBhcmFtZXRlcnMud29yZHMucGx1cmFsTGV0dGVyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHBhcmFtZXRlcnMud29yZHMuZGF5cztcblxuICAgICAgICAgICAgICAgICAgICBob3VyV29yZCA9IGhvdXJzID4gMVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJhbWV0ZXJzLndvcmRzLmhvdXJzICsgcGFyYW1ldGVycy53b3Jkcy5wbHVyYWxMZXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcGFyYW1ldGVycy53b3Jkcy5ob3VycztcblxuICAgICAgICAgICAgICAgICAgICBtaW51dGVXb3JkID0gbWludXRlcyA+IDFcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyYW1ldGVycy53b3Jkcy5taW51dGVzICsgcGFyYW1ldGVycy53b3Jkcy5wbHVyYWxMZXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcGFyYW1ldGVycy53b3Jkcy5taW51dGVzO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZFdvcmQgPSBzZWNvbmRzID4gMVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJhbWV0ZXJzLndvcmRzLnNlY29uZHMgKyBwYXJhbWV0ZXJzLndvcmRzLnBsdXJhbExldHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwYXJhbWV0ZXJzLndvcmRzLnNlY29uZHM7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkYXlXb3JkID0gcGFyYW1ldGVycy53b3Jkcy5kYXlzO1xuICAgICAgICAgICAgICAgICAgICBob3VyV29yZCA9IHBhcmFtZXRlcnMud29yZHMuaG91cnM7XG4gICAgICAgICAgICAgICAgICAgIG1pbnV0ZVdvcmQgPSBwYXJhbWV0ZXJzLndvcmRzLm1pbnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZFdvcmQgPSBwYXJhbWV0ZXJzLndvcmRzLnNlY29uZHM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyogZGlzcGxheSBhbiBpbmxpbmUgY291bnRkb3duIGludG8gYSBzcGFuIHRhZyAqL1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzLmlubGluZSkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudGRvd24uaW5uZXJIVE1MID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRheXMgKyAnICcgKyBkYXlXb3JkICsgJywgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyArICcgJyArIGhvdXJXb3JkICsgJywgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzICsgJyAnICsgbWludXRlV29yZCArICcsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyArICcgJyArIHNlY29uZFdvcmQgKyAnLic7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmdWxsQ291bnREb3duLmRheXMuYW1vdW50LnRleHRDb250ZW50ID0gKHBhcmFtZXRlcnMuemVyb1BhZCAmJiBkYXlzLnRvU3RyaW5nKCkubGVuZ3RoIDwgMiA/ICcwJyA6ICcnKSArIGRheXM7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGxDb3VudERvd24uZGF5cy53b3JkLnRleHRDb250ZW50ID0gZGF5V29yZDtcblxuICAgICAgICAgICAgICAgICAgICBmdWxsQ291bnREb3duLmhvdXJzLmFtb3VudC50ZXh0Q29udGVudCA9IChwYXJhbWV0ZXJzLnplcm9QYWQgJiYgaG91cnMudG9TdHJpbmcoKS5sZW5ndGggPCAyID8gJzAnIDogJycpICsgaG91cnM7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGxDb3VudERvd24uaG91cnMud29yZC50ZXh0Q29udGVudCA9IGhvdXJXb3JkO1xuXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxDb3VudERvd24ubWludXRlcy5hbW91bnQudGV4dENvbnRlbnQgPSAocGFyYW1ldGVycy56ZXJvUGFkICYmIG1pbnV0ZXMudG9TdHJpbmcoKS5sZW5ndGggPCAyID8gJzAnIDogJycpICsgbWludXRlcztcbiAgICAgICAgICAgICAgICAgICAgZnVsbENvdW50RG93bi5taW51dGVzLndvcmQudGV4dENvbnRlbnQgPSBtaW51dGVXb3JkO1xuXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxDb3VudERvd24uc2Vjb25kcy5hbW91bnQudGV4dENvbnRlbnQgPSAocGFyYW1ldGVycy56ZXJvUGFkICYmIHNlY29uZHMudG9TdHJpbmcoKS5sZW5ndGggPCAyID8gJzAnIDogJycpICsgc2Vjb25kcztcbiAgICAgICAgICAgICAgICAgICAgZnVsbENvdW50RG93bi5zZWNvbmRzLndvcmQudGV4dENvbnRlbnQgPSBzZWNvbmRXb3JkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFJlZnJlc2ggaW1tZWRpYXRlbHkgdG8gcHJldmVudCBhIEZsYXNoIG9mIFVuc3R5bGVkIENvbnRlbnRcbiAgICAgICAgICAgIHJlZnJlc2goKTtcbiAgICAgICAgICAgIGludGVydmFsID0gd2luZG93LnNldEludGVydmFsKHJlZnJlc2gsIHBhcmFtZXRlcnMucmVmcmVzaCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBleHBvcnRzLnNpbXBseUNvdW50ZG93biA9IHNpbXBseUNvdW50ZG93bjtcbn0od2luZG93KSk7XG5cbi8qZ2xvYmFsICQsIGpRdWVyeSwgc2ltcGx5Q291bnRkb3duKi9cbmlmICh3aW5kb3cualF1ZXJ5KSB7XG4gICAgKGZ1bmN0aW9uICgkLCBzaW1wbHlDb3VudGRvd24pIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNpbXBseUNvdW50ZG93bmlmeShlbCwgb3B0aW9ucykge1xuICAgICAgICAgICAgc2ltcGx5Q291bnRkb3duKGVsLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQuZm4uc2ltcGx5Q291bnRkb3duID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBzaW1wbHlDb3VudGRvd25pZnkodGhpcy5zZWxlY3Rvciwgb3B0aW9ucyk7XG4gICAgICAgIH07XG4gICAgfShqUXVlcnksIHNpbXBseUNvdW50ZG93bikpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
